---
layout: post
title: Робимо модель острова з фанери
date: '2022-02-10 20:11:00 +0200'
categories:
  - uk
tags:
  - 3d-printing
  - laser cutting
comments: true
lang: uk
ref: 3d-relief-svg-preparation
---

Місяць тому у мене з’явився чудовий апарат [Snapmaker 2.0 A150 3-в-1](https://snapmaker.com/snapmaker-2/specs), який вміє друкувати пластиком як 3D-принтер, різати та гравіювати за допомогою лазера, а також у нього є фрезерна голівка, якою також можна робити об’ємні моделі чи робити друковані плати.

В комплекті з апаратом йде кілограмова котушка чорного PLA філаменту для 3D-друку, 2 фанерки розміром 150*150 мм для тестування можливостей лазера та акрилова пластинка для тестування фрезерування.

Першим ділом я поставив головку для 3D-друку і був вражений. Вражений самим процесом, тим як шар за шаром з’являється готовий виріб. Не маючи жодного попереднього досвіду у мене вийшло з першої спроби (майже с першої) надрукувати кілька предметів.

<center>
  <iframe width="560" height="315" src="https://www.youtube.com/embed/cX_YODc6Eek" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</center>

Наступним кроком, було тестування лазерної голівки. Мені не хотілось вирізати просту тестову скриньку, яка доступна в бібліотеці проєктів в Luban. Хотілось чогось цікавого.

## В пошуках натхнення

За порадою [Федора Гонци](https://www.behance.net/gontsa) я вирішив зробити модель рельєфу, вирізавши його частини з тих двох тестових фанерок, які йшли в комплекті. Я вже бачив кілька прикладів моделей рельєфу створених з шарів фанери в [пості Еріка Гюндерсона](https://blog.mapbox.com/3d-laser-printing-maps-in-glowforge-54007f9736e1), засновника Mapbox, кілька років тому і тепер настав час зробити щось подібне самостійно.

![Eric blogpost](/images/2022/02/eric-blogpost.png)

Для цього мені треба було знайти дані про цифрову модель рельєфу якоїсь місцевості. Це можуть бути як сирі дані, які можна обробити використовуючи спеціалізовані системи обробки геопросторових даних, наприклад [QGIS](https://qgis.org/uk/site/), або ж можна спробувати пошукати вже готові ізолінії.

![Mapbox Outdoors](/images/2022/02/mapbox-outdoors.png)
<sub>_[Mapbox Outdoors](https://api.mapbox.com/styles/v1/mapbox/outdoors-v11.html?title=true&accesstoken=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4M29iazA2Z2gycXA4N2pmbDZmangifQ.-gvE53SD2WrJ6tFX7QHmA#14.46/27.72792/-17.95366/0/1) - стиль від Mapbox на якому є ізолінії_</sub>

Як варіант, можна перейти в [Mapbox Studio](http://studio.mapbox.com) та взяти тільки їх, скориставшись набором даних Mapbox Terrain v2 (<https://docs.mapbox.com/data/tilesets/reference/mapbox-terrain-v2/>), який якраз і містить потрібні мені ізолінії. Зробити це досить просто, зважаючи на те наявність докладної документації з прикладами коду й тому подібне.

## Отримання ізоліній

Однак, мені трапився ще один інструмент, який вже мав в собі все те, що я тільки но збирався зробити сам. <https://contours.axismaps.com/#12/27.7434/-18.0547>

![Contour Axismaps Preparation](/images/2022/02/countour-axismaps-preparation.png)


Залишалось тільки знайти місцевість з виразним рельєфом. Мій вибір пав на Канарські острови, на острів Ієрро (або як його ще називають Isla del Meridiano). Висота найвищої точки острова - 1501 м, він має круті схили та виразні бухти - саме те що мені треба.

Обравши крок в 500 футів, я отримав 10 шарів, які мені потрібно було вирізати з двох фанерок.

Фанерки у мене то дві, а як зробити так, щоб умістити на них 10 шарів? Рішення було досить простим - з однієї фанерки вирізати шари в 500, 1500, 2500, 3500 та 4500 футів, з іншої - 1000, 2000, 3000 та 4000 футів. У мене вийшли б шари які перекривають один одного - саме те що мені треба, у мене тільки дві фанерки й мені треба бути заощадливим, і мати якомога менше відходів.

![Contour Axismaps Download](/images/2022/02/countour-axismaps-download.png)

## Обробка *.svg, підготовка для вирізання

Я зберіг ізолінії в файл `*.svg` та спробував відкрити його безпосередньо в Luban. Тут мене спіткала перша проблема. Річ в тому, що я сподівався, що Luban дасть мені можливість виділити кожну лінію з `*.svg` файлу окремо та призначити їй відповідні інструкції. На одній фанерці я збирався прорізати ізолінії 500, 1500, 2500, 3500 та 4500 футів і випалювати ізолінії 1000, 2000, 3000 та 4000 футів, на іншій - навпаки. Виявилось, що в Luban можна задати параметри тільки для всіх ліній з файлу одразу - у нього немає можливості обирати окремі лінії з файлу для різу чи випалювання.

![Contourlines Inkscape Original](/images/2022/02/contourlines-inkscape-original.png)

Тут на допомогу мені прийшов Inkscape в якому я розділив отриманий файл на три частини: в першу частину я виніс ізолінію берегової лінії у 0 футів; у другий - ізолінії  500, 1500, 2500, 3500 та 4500 футів; в третій - ізолінії 1000, 2000, 3000 та 4000 футів. Крім цього я обрізав файли так щоб їх сторона дорівнювала 150 мм, стороні моєї фанерки. Також буде корисним виконати спрощення ліній, це дозволить трохи розвантажити наш апарат від вирізання занадто малих деталей та зменшить розмі файлів з 400 кБ до 17-25 кБ кожний. Зберігайте файли у форматі **Plain SVG (*.svg)**.

Берегова лінія | Непарні ізолінії | Парні ізолінії
-- | -- | --
![Coast line](/images/2022/02/coast-line.svg) | ![odd contour lines](/images/2022/02/odd-cotour-lines.svg) | ![even contour lines](/images/2022/02/even-contour-lines.svg)
[берегова лінія (*.svg)](/images/2022/02/coast-line.svg) | [непарні ізолінії (*.svg)](/images/2022/02/odd-cotour-lines.svg) | [парні ізолінії (*.svg)](/images/2022/02/even-contour-lines.svg)

Тепер можна відкривати ці файли в Luban та призначати кожному з них параметри для різу чи випалювання.

Зменшимо для всіх файлів розмір в Luban  до 140 мм.

![Luban Resize](/images/2022/02/luban-resize.png)

Для першої фанерки беремо всі три файли: файл з береговою лінією - її ми будемо випалювати, файл з ізолініями 500, 1500, 2500, 3500 та 4500 футів, які ми також будемо випалювати (вони будуть слугувати нам орієнтиром для подальшого збирання нашої моделі) і файл с ізолініями 1000, 2000, 3000 та 4000 футів - по яких ми будемо різати.

![Luban Toolpath](/images/2022/02/luban-toolpath.png)

Для другої фанерки беремо лише файли с ізолініями (без берегової лінії) і ті, які ми на першій фанерці випалювали, тепер будемо різати, а ті по яких ми на першій фанерці різали - будемо випалювати.

![Luban Toolpath 2](/images/2022/02/luban-toolpath-2.png)

Виходить що відстань між ізолініями для вирізання дорівнює 1000 футів на обох фанерках.

## Складання моделі острова після вирізання та випалювання

Фанерка на якій ми випалювали нашу берегову лінію буде основою для складання. На неї ми будемо наклеювати найбільший елемент з другої фанерки, потім наступний елемент з першої фанерки клеїти зверху елемента з другої… і так крок за кроком у нас складеться рельєф місцевості.

Можна починати складання як з найнижчого шару і рухатись вгору, так і з найвищого шару і, відповідно, рухатись вниз.

Через те що у мене на одній з фанерок не у всіх місцях лазер прорізав її наскрізь і мені довелось розділяти деталі макетним ножем, я вирішив складати острів від вершини до берегової лінії, виймаючи найменші елементи спочатку і накладаючи їх на більші.

<center>
  <iframe width="560" height="315" src="https://www.youtube.com/embed/P1e5ME25k6Y" title="YouTube video player"  frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</center>

В процесі складання я подумав, що було б добре додати назву острова та його координати на фон, найбільшу деталь, на якій я лазером вигравіював берегову лінію. Після цього я приклеїв острів до основи.

<center>
<blockquote class="twitter-tweet"><p lang="uk" dir="ltr">Дивіться, що я зробив!<br><br>Матеріал: 2 фанерки 1,5мм 150×150мм<br>Ізолінії: Elevation tiles by Mapzen<br>Обробка: Inkscape<br>Вирізання, випалювання: <a href="https://twitter.com/hashtag/snapmaker?src=hash&amp;ref_src=twsrc%5Etfw">#snapmaker</a> 2.0 A150 <br><br>Складання: Я сам. <a href="https://t.co/2TAbXT71jH">pic.twitter.com/2TAbXT71jH</a></p>&mdash; Andrey Golovin (@andygol_) <a href="https://twitter.com/andygol_/status/1489968188636999683?ref_src=twsrc%5Etfw">February 5, 2022</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</center>
